Чтение регистра
---------------
Вход: RD', A0, A1
Выход: D0..7

Прерывание EXTI по спаду RD' (RD' = CS | RD аппаратно)
0. Программирование МК для обслуживания прерывания (сброс pending)
1. В зависимости от A0, A1 вычислить адрес нужной переменной (регистр статуса, данных, трека или сектора)
2. Выдать в регистр D0..7 значение переменной
3. Запрограммировать выход D0..7 как GPIO Output PushPull
4. Задержка для чтения ЦПУ
5. Запрограммировать выход D0..7 как GPIO Input
Выход из прерывания

Запись регистра
---------------
Вход: WR', A0, A1
Выход: D0..7

Прерывание EXTI по спаду WR' (WR' = CS | WR аппаратно )
0. Программирование МК для обслуживания прерывания (сброс pending)
1. Считать значение регистра из D0..7
2. В зависимости от A0, A1 вычислить адрес нужной переменной (командный регистр, данных, трека или сектора)
3. Загрузить в переменную считанное значение
Выход из прерывания

Сброс
-----
Вход: RESET

Прерывание EXTI по спаду RESET
Инициализация эмулятора
Выход
